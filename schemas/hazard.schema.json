{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Hazard",
  "type": "object",
  "required": [
    "hazard_id",
    "category",
    "subtype",
    "trigger_condition",
    "primary_failure",
    "propagation_chain",
    "final_impact",
    "severity",
    "likelihood",
    "detectability",
    "affected_components",
    "task_phase"
  ],
  "additionalProperties": false,
  "properties": {
    "hazard_id": { "type": "string", "minLength": 6 },
    "category": {
      "type": "string",
      "enum": [
        "Mechanical",
        "Electrical",
        "Software",
        "Control",
        "Perception",
        "HumanInteraction",
        "Environment",
        "SystemIntegration"
      ]
    },
    "subtype": { "type": "string", "minLength": 3 },
    "trigger_condition": { "type": "string", "minLength": 10 },
    "primary_failure": { "type": "string", "minLength": 10 },
    "propagation_chain": {
      "type": "array",
      "minItems": 4,
      "items": { "type": "string", "minLength": 6 }
    },
    "final_impact": { "type": "string", "minLength": 10 },
    "severity": { "type": "string", "enum": ["Low", "Medium", "High", "Critical"] },
    "likelihood": { "type": "string", "enum": ["Low", "Medium", "High"] },
    "detectability": { "type": "string", "enum": ["Low", "Medium", "High"] },
    "affected_components": {
      "type": "array",
      "minItems": 1,
      "items": { "type": "string", "minLength": 2 }
    },
    "task_phase": { "type": "string", "minLength": 3 },
    "notes": { "type": "string" }
  }
}